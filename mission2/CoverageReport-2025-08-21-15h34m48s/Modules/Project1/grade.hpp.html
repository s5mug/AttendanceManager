<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>grade.hpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;

using namespace std;

class Grade {
public:
	virtual int getPointThreshold() const = 0;
	virtual const char* getStr() const = 0;
	virtual bool IsEjectableGrade() const = 0;
};

class NormalGrade : public Grade {
public:
	static const int POINT_THRESHOLD = 0;
	static constexpr const char* NORMAL_STR = "NORMAL";

<span style = "background-color:#dfd">	int getPointThreshold() const override { return POINT_THRESHOLD; };
	const char* getStr() const override { return NORMAL_STR; };
	bool IsEjectableGrade() const override { return  true; }</span>

<span style = "background-color:#dfd">	static NormalGrade* getInstance() {
		if (nullptr == _instance) _instance = new NormalGrade();
		return _instance;
	}</span>

<span style = "background-color:#dfd">	static bool IsNormalGrade(Grade* grade) {
		return grade == _instance;
	}</span>
private:
<span style = "background-color:#dfd">	NormalGrade() = default;</span>
	static NormalGrade* _instance;
};

class SilverGrade : public Grade {
public:
	static const int POINT_THRESHOLD = 30;
	static constexpr const char* SILVER_STR = "SILVER";

<span style = "background-color:#dfd">	int getPointThreshold() const override { return POINT_THRESHOLD; };
	const char* getStr() const override { return SILVER_STR; };
	bool IsEjectableGrade() const override { return  false; }</span>

<span style = "background-color:#dfd">	static SilverGrade* getInstance() {
		if (nullptr == _instance) _instance = new SilverGrade();
		return _instance;
	}</span>

<span style = "background-color:#dfd">	static bool IsSilverGrade(Grade* grade) {
		return grade == _instance;
	}</span>
private:
<span style = "background-color:#dfd">	SilverGrade() = default;</span>
	static SilverGrade* _instance;
};

class GoldGrade : public Grade {
public:
	static const int POINT_THRESHOLD = 50;
	static constexpr const char* GOLD_STR = "GOLD";

<span style = "background-color:#dfd">	int getPointThreshold() const override { return POINT_THRESHOLD; };
	const char* getStr() const override { return GOLD_STR; };
	bool IsEjectableGrade() const override { return  false; }</span>

<span style = "background-color:#dfd">	static bool IsGoldGrade(Grade* grade) {
		return grade == _instance;
	}</span>

<span style = "background-color:#dfd">	static GoldGrade* getInstance() {
		if (nullptr == _instance) _instance = new GoldGrade();
		return _instance;
	}</span>
private:
<span style = "background-color:#dfd">	GoldGrade() = default;</span>
	static GoldGrade* _instance;
};

class GradeChecker {
public:
<span style = "background-color:#dfd">	GradeChecker(initializer_list&lt;Grade*&gt; _gradeList) : gradeList(_gradeList) {
		sort(gradeList.begin(), gradeList.end(), [](Grade* a, Grade* b) {
			return a-&gt;getPointThreshold() &gt;= b-&gt;getPointThreshold();
			});
	}</span>

<span style = "background-color:#dfd">	Grade* getGradeFromPoint(int point) {
		for (Grade* grade : gradeList) {
			if (point &gt;= grade-&gt;getPointThreshold())
				return grade;
		}
		return nullptr;
	}</span>

private:
	vector&lt;Grade*&gt; gradeList;
};</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>